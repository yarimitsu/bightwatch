<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discussion Widget Test</title>
    <link rel="stylesheet" href="src/css/main.css">
    <link rel="stylesheet" href="src/css/widgets.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #0f2535;
            color: #e2e8f0;
        }
        .test-container {
            background: rgba(15, 37, 53, 0.6);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>Discussion Widget Formatting Test</h1>
    
    <div class="test-container">
        <h2>Test Discussion Widget</h2>
        <div id="discussion" class="widget">
            <div class="discussion-content">
                <div class="loading">Loading discussion...</div>
            </div>
        </div>
    </div>

    <script>
        // Mock test data
        const testData = {
            properties: {
                office: 'AJK',
                officeName: 'Juneau, AK',
                updated: new Date().toISOString(),
                issuedTime: 'Jan 18, 2:00 PM',
                text: `SYNOPSIS...A strong low pressure system will move through the region tonight bringing gusty winds and heavy precipitation. HIGH PRESSURE will rebuild over the weekend. TONIGHT...Southeast winds 25 to 35 mph with gusts to 50 mph. Rain heavy at times. Seas 8 to 12 feet. SUNDAY...Winds decreasing to 15 to 25 mph. Scattered showers. Seas 6 to 10 feet. Additional details available at usa.gov/weather • Contact your local weather office for more information • Visit our website for updates.`
            }
        };

        // Mock BoatSafe object
        window.BoatSafe = {
            http: {
                get: async (url) => {
                    return testData;
                }
            }
        };
    </script>
    
    <script src="src/js/widgets/discussion.js"></script>
    <script>
        // Initialize the discussion widget
        const discussion = new Discussion();
        
        // Update with test data
        setTimeout(() => {
            discussion.update(testData);
        }, 1000);
    </script>
</body>
</html>